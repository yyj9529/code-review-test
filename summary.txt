# 작업 요약 (2026-01-09)

## 문제 상황
- `/install-github-app` 명령어 실행 시 에러 발생
- 에러 메시지: "GitHub CLI is missing required permissions: workflow"

---

## 주요 용어 설명

### GitHub (깃허브)
- 코드를 저장하고 공유하는 웹사이트/서비스
- 개발자들이 협업하고 프로젝트를 관리하는 플랫폼

### GitHub CLI (Command Line Interface)
- CLI: 명령어를 텍스트로 입력해서 컴퓨터를 조작하는 방식
- GitHub CLI: 터미널/명령 프롬프트에서 GitHub를 사용할 수 있게 해주는 도구
- 명령어: `gh` (GitHub의 약자)

### Token (토큰)
- 비밀번호 대신 사용하는 디지털 열쇠
- GitHub에 접근할 때 "나는 허락받은 사용자입니다"라고 증명하는 수단

### Scope (스코프/권한)
- 토큰이 할 수 있는 작업의 범위
- 예: 파일 읽기만 가능, 파일 수정 가능, 워크플로우 실행 가능 등

### Workflow (워크플로우)
- GitHub에서 자동으로 실행되는 작업 절차
- 예: 코드를 저장하면 자동으로 테스트하거나 배포하는 작업

---

## 원인 분석

### GitHub CLI 상태 확인
✅ **정상:** GitHub CLI는 제대로 설치되어 있음 (버전: 2.83.1)
✅ **정상:** GitHub 계정(yyj9529)에 로그인되어 있음

❌ **문제:** 토큰에 `workflow` 권한이 없음
- 비유: 집 열쇠는 있지만 지하실 문을 열 권한이 없는 상태

### 권한 현황 비교

**기존에 가지고 있던 권한:**
- `gist`: 간단한 코드 조각을 저장하고 공유할 수 있는 권한
- `read:org`: 조직(Organization) 정보를 읽을 수 있는 권한
- `repo`: 저장소(Repository)를 읽고 쓸 수 있는 권한

**부족했던 권한:**
- `workflow`: GitHub Actions(자동화 작업)를 실행할 수 있는 권한

---

## 해결 과정

### 1단계: 현재 상태 확인
**실행한 명령어:**
```
gh --version
```
- **설명:** GitHub CLI의 버전을 확인하는 명령어
- **결과:** 버전 2.83.1이 설치되어 있음 확인

```
gh auth status
```
- **설명:** GitHub CLI의 인증(로그인) 상태를 확인하는 명령어
- **auth:** Authentication(인증)의 줄임말
- **status:** 현재 상태를 보여달라는 의미
- **결과:** 로그인은 되어 있지만 workflow 권한이 없음을 발견

### 2단계: 권한 추가 요청
**실행한 명령어:**
```
gh auth refresh -h github.com -s workflow
```
- **설명:** GitHub CLI의 권한을 새로 고침하고 추가하는 명령어
- **auth refresh:** 인증 정보를 갱신한다는 의미
- **-h github.com:** 호스트(접속할 웹사이트)를 지정 (github.com)
- **-s workflow:** workflow 권한을 추가로 요청한다는 의미
  - `-s`는 `--scopes`의 줄임말 (권한 범위)

### 3단계: 웹 브라우저에서 인증
**진행 과정:**
1. 터미널에 일회용 코드 표시: `CDE1-B6B8`
   - 일회용 코드: 한 번만 사용할 수 있는 임시 비밀번호

2. 웹 브라우저에서 접속: https://github.com/login/device
   - device: 이 컴퓨터가 내 계정에 접근하도록 허용하는 페이지

3. 코드 입력 및 권한 승인
   - GitHub 웹사이트에서 일회용 코드를 입력
   - workflow 권한 추가를 승인

4. 인증 완료: ✓ Authentication complete

**왜 이 과정이 필요한가?**
- 보안을 위해 중요한 권한을 추가할 때는 웹 브라우저에서 직접 확인하고 승인해야 함
- 누군가 당신의 컴퓨터를 몰래 사용해도 함부로 권한을 추가할 수 없게 하는 안전장치

### 4단계: 결과 확인
**실행한 명령어:**
```
gh auth status
```
- **결과:** workflow 권한이 정상적으로 추가된 것을 확인

---

## 최종 결과

### 추가된 권한
✅ **workflow 권한이 성공적으로 추가됨**

**현재 토큰이 가진 모든 권한:**
- `gist` - 코드 조각 관리
- `read:org` - 조직 정보 읽기
- `repo` - 저장소 관리
- `workflow` - 자동화 작업 실행 ⭐ **새로 추가됨**

---

## 결론

✅ **문제 해결 완료**
- GitHub CLI에 필요한 workflow 권한이 추가됨
- `/install-github-app` 명령어를 이제 정상적으로 사용할 수 있음

**비유로 설명하면:**
- 문제: 회사 출입증은 있었지만 4층 실험실 출입 권한이 없었음
- 해결: 관리자에게 요청해서 4층 실험실 출입 권한을 추가받음
- 결과: 이제 실험실에 자유롭게 출입할 수 있음

---

## 참고 자료

수동 설정 가이드 (고급 사용자용):
https://github.com/anthropics/claude-code-action/blob/main/docs/setup.md
